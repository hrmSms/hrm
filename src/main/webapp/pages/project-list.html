<style>
  	 
</style>



<!-- ajax layout which only needs content area -->
<!-- div class="page-header">
  <h1>
    Project Details 
    <small> 
    	<i class="ace-icon fa fa-angle-double-right"></i> Create a project
    </small>
  </h1>
</div-->
<div class="row">
  <div class="col-sm-12">
    <!-- PAGE CONTENT BEGINS -->
    <div class="pull-left margin-top-10px">
      <a ui-sref="project.create()">
        <button class="btn btn-info" type="button">
          <i class="ace-icon fa fa-plus wrenching bigger-110"></i> Add new
        </button>
      </a>
    </div>
  </div>
</div>


<!-- /.page-header -->

<!-- PAGE CONTENT BEGINS -->

	<!-- <form class="form-horizontal" role="form" ng-submit="addProject(newProject, description, startDate, endDate, clientId)"> -->
	<form class="form-horizontal" role="form">
			
	<hr />
	<div class="row">
		<div class="col-xs-12">
			<div class="widget-header">
				<h4 class="widget-title">Project List</h4>
			</div>
			<table id="sample-table-1"
				class="table table-striped table-bordered table-hover">
				<thead>
					<tr>
						<th class="center"><label class="position-relative">
								<input type="checkbox" class="ace" /> <span class="lbl"></span>
						</label></th>
						<th>Name</th>
						<th>Description</th>

						<th><i class="ace-icon fa fa-clock-o bigger-110 hidden-480"></i>
							Start Date</th>
						<th><i class="ace-icon fa fa-clock-o bigger-110 hidden-480"></i>
							End Date</th>
						<th class="hidden-480">Client</th>
						<th>Operations</th>
					</tr>
				</thead>
				<tbody>

					<tr ng-repeat="item in projects">
						<td class="center"><label class="position-relative">
								<input type="checkbox" class="ace" ng-model="item.checked"
								ng-change="updateProject(item)" /> <span class="lbl"></span>
						</label></td>

						<td><a ui-sref="sprint.list({ projectId: item.id})">{{item.name}}</a></td>
						<td>{{item.description}}</td>						
						<td>{{item.startDate| date:'shortDate'}}</td>
						<td>{{item.endDate | date:'shortDate'}}</td>						
						<td>{{item.clientId}}</td>
						<td>
							<button class="btn btn-xs btn-info"
							ng-click="goToEditSprint(sprint.id)" show="tooltip"
							title="Edit selected row">
							<i class="ace-icon fa fa-pencil bigger-120"></i>
						</button>
							<button class="btn btn-xs btn-danger" ng-click="deleteProject(item)" title="Delete selected row">
								<i class="ace-icon fa fa-trash-o bigger-120"></i>
							</button>
						</td>
						
					</tr>
				</tbody>
			</table>
		</div>
	</div>

</form>

<!-- PAGE CONTENT ENDS -->

<!-- page specific plugin scripts -->
<script type="text/javascript">
			var initAll = function() {
				//datetimepicker plugin
				$('#startDate').datetimepicker().next().on(ace.click_event, function(){
					$(this).prev().focus();
					
				});
				
				$('#endDate').datetimepicker().next().on(ace.click_event, function(){
					$(this).prev().focus();
				});

				//description texterea
				$('#description').ace_wysiwyg();

				var toolbar = $('#description').prev().get(0);
				$(toolbar).addClass('wysiwyg-style2');

			

				//RESIZE IMAGE
				
				//Add Image Resize Functionality to Chrome and Safari
				//webkit browsers don't have image resize functionality when content is editable
				//so let's add something using jQuery UI resizable
				//another option would be opening a dialog for user to enter dimensions.
				if ( typeof jQuery.ui !== 'undefined' && ace.vars['webkit'] ) {
					
					var lastResizableImg = null;
					function destroyResizable() {
						if(lastResizableImg == null) return;
						lastResizableImg.resizable( "destroy" );
						lastResizableImg.removeData('resizable');
						lastResizableImg = null;
					}

					var enableImageResize = function() {
						$('.wysiwyg-editor')
						.on('mousedown', function(e) {
							var target = $(e.target);
							if( e.target instanceof HTMLImageElement ) {
								if( !target.data('resizable') ) {
									target.resizable({
										aspectRatio: e.target.width / e.target.height,
									});
									target.data('resizable', true);
									
									if( lastResizableImg != null ) {
										//disable previous resizable image
										lastResizableImg.resizable( "destroy" );
										lastResizableImg.removeData('resizable');
									}
									lastResizableImg = target;
								}
							}
						})
						.on('click', function(e) {
							if( lastResizableImg != null && !(e.target instanceof HTMLImageElement) ) {
								destroyResizable();
							}
						})
						.on('keydown', function() {
							destroyResizable();
						});
				    }

					enableImageResize();

					
				}
			
			};
		</script>

<script type="text/javascript">
	var scripts = [null, 
	               './assets/js/jquery.autosize.min.js', 
	               './assets/js/jquery.inputlimiter.1.3.1.min.js',
	               'assets/js/date-time/moment.min.js',
	               'assets/js/date-time/bootstrap-datetimepicker.min.js',
	               'assets/js/bootstrap-wysiwyg.min.js',
	               'assets/js/bootbox.min.js', 
	               null];
	$('.page-content-area').ace_ajax('loadScripts', scripts, function() {
	  //inline scripts related to this page
	  $('textarea[class*=autosize]').autosize({append: "\n"});
  	  $('textarea.limited').inputlimiter({
  		remText: '%n character%s remaining...',
  		limitText: 'max allowed : %n.'
  	  });
	  initAll();
	});

</script>
