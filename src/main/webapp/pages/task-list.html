<!-- page specific plugin styles -->
<!-- <link rel="stylesheet" href="../../assets/css/jquery-ui.custom.css" /> -->

<!-- page's inner styles -->
<style>
.border-top {
	border-top: 1px solid #E3E3E3;
	border-top-color: rgba(0, 0, 0, 0.11);
}

.border-right {
	border-right: 1px solid #E3E3E3;
	border-right-color: rgba(0, 0, 0, 0.11);
}

.border-bottom {
	border-bottom: 1px solid #E3E3E3;
	border-bottom-color: rgba(0, 0, 0, 0.11);
}

.border-left {
	border-left: 1px solid #E3E3E3;
	border-left-color: rgba(0, 0, 0, 0.11);
}
</style>

<!-- ajax layout which only needs content area -->
<div class="row">
  <div class="col-xs-12 page-header ">
    <!-- PAGE CONTENT BEGINS -->
    <div class="pull-left margin-top-10px">
      <h1 class="blue">Task List</h1>
    </div>
  </div>
</div>

<!-- /.page-header -->

<!-- PAGE CONTENT BEGINS -->

<div class="row">
	<div class="col-xs-12">
		<div ng-show="message">
			<h3 class="lighter red">{{message}}</h3>
		</div>

		<!-- <div class="dataTables_borderWrap"> -->
		<div>
			<table id="sample-table-2"
				class="table table-striped table-bordered table-hover">
				<thead>
					<tr>
						<th class="center"><label class="position-relative">
								<input type="checkbox" class="ace" /> <span class="lbl"></span>
						</label></th>
						<th>Name</th>
						<th>Description</th>

						<th><i class="ace-icon fa fa-clock-o bigger-110 hidden-480"></i>
							Start Date</th>
						<th><i class="ace-icon fa fa-clock-o bigger-110 hidden-480"></i>
							End Date</th>
						<th class="hidden-480">Assignee</th>
						<th>Operations</th>
					</tr>
				</thead>
				<tbody>

					<tr ng-repeat="item in items">
						<td class="center"><label class="position-relative">
								<input type="checkbox" class="ace" ng-model="item.checked"
								ng-change="updateItem(item)" /> <span class="lbl"></span>
						</label></td>

						<td><a href="#">{{item.name}}</a></td>
						<td>{{item.description}}</td>
						<td>{{item.startDate}}</td>
						<td>{{item.endDate}}</td>
						<td>{{item.assignee}}</td>
						<td>
							<div class="hidden-sm hidden-xs action-buttons">
								<a class="red" href="#/task/list" ng-click="deleteItem(item)">
									<i class="ace-icon fa fa-trash-o bigger-120"></i>
								</a> <a class="red" href="#"> <i
									class="ace-icon fa fa-pencil bigger-120"></i>
								</a>

							</div>
						</td>

					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
<!-- PAGE CONTENT ENDS -->

<!-- page specific plugin scripts -->
<script type="text/javascript">
	var scripts = [ null, 'assets/js/dataTables/jquery.dataTables.min.js',
			'assets/js/dataTables/jquery.dataTables.bootstrap.min.js',
			'./assets/js/jquery.autosize.min.js',
			'./assets/js/jquery.inputlimiter.1.3.1.min.js', null ];
	$('.page-content-area').ace_ajax('loadScripts', scripts, function() {
		//inline scripts related to this page
		/* $('textarea[class*=autosize]').autosize({
			append : "\n"
		});

		$('textarea.limited').inputlimiter({
			remText : '%n character%s remaining...',
			limitText : 'max allowed : %n.'
		}); */
		initTable();
	});
</script>

<script type="text/javascript">
  var initTable = function() {
    var oTable1 = $('#sample-table-2')
    //.wrap("<div class='dataTables_borderWrap' />")   //if you are applying horizontal scrolling (sScrollX)
    .dataTable({
      bAutoWidth : false,
      "aoColumns" : [ {
        "bSortable" : false
      }, null, null, null, null, null,{
        "bSortable" : false
      } ],
      "aaSorting" : [],

    });

    $(document).on('click', 'th input:checkbox', function() {
      var that = this;
      $(this).closest('table').find('tr > td:first-child input:checkbox').each(function() {
        this.checked = that.checked;
        $(this).closest('tr').toggleClass('selected');
      });

    });

    $('[data-rel="tooltip"]').tooltip({
      placement : tooltip_placement
    });
    function tooltip_placement(context, source) {
      var $source = $(source);
      var $parent = $source.closest('table')
      var off1 = $parent.offset();
      var w1 = $parent.width();

      var off2 = $source.offset();
      //var w2 = $source.width();

      if (parseInt(off2.left) < parseInt(off1.left) + parseInt(w1 / 2))
        return 'right';
      return 'left';
    }
  }
</script>
