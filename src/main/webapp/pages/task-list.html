
<!-- page's inner styles -->
<style></style>

<div class="row">
	<div class="col-sm-12">
		<!-- PAGE CONTENT BEGINS -->
		<div class="pull-left margin-top-10px">
			<a ui-sref="task.create({ usId: userStory.id })">
				<button class="btn btn-info" type="button">
					<i class="ace-icon fa fa-plus wrenching bigger-110"></i> Add new
				</button>
			</a>
		</div>
		<div class="pull-right" ng-show="userStory.name">
			<h2 class="blue">
				User story: <a href="">{{userStory.name}}</a>
			</h2>
		</div>

	</div>
</div>
<div ng-show="deleteSuccess" class="col-xs-12 center" id="message">
	<div class="alert alert-success">{{deleteSuccess}}</div>
</div>
<div class="row">
	<div class="col-xs-12">
		<!-- <div class="dataTables_borderWrap"> -->
		<div class="widget-header">
			<h4 class="widget-title">Task List</h4>
		</div>
		<div>
			<table id="sample-table-2"
				class="table table-striped table-bordered table-hover">
				<thead>
					<tr>
						<th width="90px"></th>
						<th>Name</th>
						<th>Description</th>
						<th>State</th>
						<th>Owner</th>
					</tr>
				</thead>

				<tbody>
					<tr ng-repeat="task in tasks" on-last-repeat>
						<td>
							<button class="btn btn-xs btn-info"
								ng-click="goToEditTask(task.id)" show="tooltip"
								title="Edit selected row">
								<i class="ace-icon fa fa-pencil bigger-120"></i>
							</button>

							<button class="btn btn-xs btn-danger" ng-click="onDelete(task)"
								title="Delete selected row">
								<i class="ace-icon fa fa-trash-o bigger-120"></i>
							</button>

						</td>
						<td ng-bind="task.name"></td>
						<td ng-bind="task.description"></td>
						<td ng-bind="task.taskStateId.name"></td>
						<td ng-bind="task.owner.username"></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>


<!-- page specific plugin scripts -->
<script type="text/javascript">
  var scripts = [ null, './assets/js/bootbox.min.js', './assets/js/app/ng/shared/jquery.bpopup.min.js', null ]; //[null, './assets/js/jquery-ui.custom.js', './assets/js/bootbox.js', null]
  $('.page-content-area').ace_ajax('loadScripts', scripts, function() {
    //inline scripts related to this page

  });
</script>

<script type="text/javascript">
  var initTable = function() {
    var table = $('#sample-table-2').dataTable({
      "bPaginate" : false,
      "bInfo" : true,
      "bRetrieve" : true,
      //"bProcessing": true,
      //"bJQueryUI": true,
      "bDestroy" : true,
      "bAutoWidth" : true,
      "aoColumns" : [ {
        "bSortable" : false
      }, null, null, null, null, null, null, null ],
      "aaSorting" : [],
      //"aaData": data,
      "dom" : "<'row'<'col-sm-6 toolbar'l><'col-sm-6'f>>" + "t" + "<'row'<'col-sm-6'i><'col-sm-6'p>>",
    });
    $("div.toolbar").html("<h4 class='blue'>Sprint List</h4>");

    /* $(document).on('click', 'th input:checkbox', function() {
      var that = this;
      $(this).closest('table').find('tr > td:first-child input:checkbox').each(function() {
        this.checked = that.checked;
        $(this).closest('tr').toggleClass('selected');
      });

    }); */

  }
</script>