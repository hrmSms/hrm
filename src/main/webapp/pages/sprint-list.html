<!-- page specific plugin styles -->
<!-- <link rel="stylesheet" href="../../assets/css/jquery-ui.custom.css" /> -->

<!-- page's inner styles -->
<style></style>

<div class="main-content" SprintListCtrl>
				<!-- #section:basics/content.breadcrumbs -->
				<div class="breadcrumbs" id="breadcrumbs">
					<script type="text/javascript">
						try{ace.settings.check('breadcrumbs' , 'fixed')}catch(e){}
					</script>

					<ul class="breadcrumb">
						<li>
							<i class="ace-icon fa fa-home home-icon"></i>
							<a href="#/index">Home</a>
						</li>

						<li class="active">Sprint</li>
					</ul><!-- /.breadcrumb -->
				</div>

				<!-- /section:basics/content.breadcrumbs -->
				<div class="page-content">
					
					<!-- /section:settings.box -->
					<div class="page-content-area">
						
						<div class="row">
							<div class="col-xs-12">
								<!-- PAGE CONTENT BEGINS -->
								<h4 class="blue pull-left">Sprint List</h4>
								<a href="#/sprint/create" class="pull-right">
									<button class="btn btn-sm btn-info" type="button">
										<i class="ace-icon fa fa-plus wrenching bigger-110"></i>
										Add new
									</button>
								</a>
								<div class="row">
									<div class="col-xs-12">
										<div ng-show="message"><h3 class="lighter red">{{message}}</h3></div>
										<!-- <div class="dataTables_borderWrap"> -->
										<div>
											<table id="sample-table-2" class="table table-striped table-bordered table-hover">
												<thead>
													<tr>
														<th class="center">
															<label class="position-relative">
																<input type="checkbox" class="ace" />
																<span class="lbl"></span>
															</label>
														</th>
														<th>Name</th>
														<th>
															<i class="ace-icon fa fa-clock-o bigger-110 hidden-480"></i>
															End Date
														</th>
														<th>Project</th>

														<th>
															Planned Velocity
														</th>
														<th>Plan Est</th>
														<th>Task Est</th>
														<th>Actuals</th>
														<th>Action</th>
													</tr>
												</thead>

												<tbody>
													<tr ng-repeat = "sprint in sprints">
														<td class="center">
															<label class="position-relative">
																<input type="checkbox" class="ace" />
																<span class="lbl"></span>
															</label>
														</td>

														<td ng-bind="sprint.name"></td>
														<td ng-bind="sprint.endDate"></td>
														<td ng-bind="sprint.project.name"></td>
														<td ng-bind="sprint.planVelocity"></td>

														<td>
															<span ng-bind="sprint.planEst"></span>
														</td>
														<td ng-bind="sprint.taskEst"></td>
														<td ng-bind="sprint.actuals"></td>
														<td>
															<div class="hidden-sm hidden-xs action-buttons">
																<a class="green" href="#/sprint/edit/{{sprint.sprintID}}">
																	<i class="ace-icon fa fa-pencil bigger-130"></i>
																</a>

																<a href="" class="red" onclick="onDelete(sprint.sprintID)">
																	<i class="ace-icon fa fa-trash-o bigger-130"></i>
																</a>
															</div>

															<div class="hidden-md hidden-lg">
																<div class="inline position-relative">
																	<button class="btn btn-minier btn-yellow dropdown-toggle" data-toggle="dropdown" data-position="auto">
																		<i class="ace-icon fa fa-caret-down icon-only bigger-120"></i>
																	</button>

																	<ul class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">

																		<li>
																			<a href="#/sprint/edit/{{sprint.sprintID}}" class="tooltip-success" data-rel="tooltip" title="Edit">
																				<span class="green">
																					<i class="ace-icon fa fa-pencil-square-o bigger-120"></i>
																				</span>
																			</a>
																		</li>

																		<li>
																			<a href="" class="tooltip-error" data-rel="tooltip" title="Delete" onclick="onDelete(sprint.sprintID)>
																				<span class="red">
																					<i class="ace-icon fa fa-trash-o bigger-120"></i>
																				</span>
																			</a>
																		</li>
																	</ul>
																</div>
															</div>
														</td>
												
													</tr>
												</tbody>
											</table>
										</div>
									</div>
								</div>
							</div><!-- /.col -->
						</div><!-- /.row -->
					</div><!-- /.page-content-area -->
				</div><!-- /.page-content -->
			</div><!-- /.main-content -->

		</div><!-- /.main-container -->


<!-- page specific plugin scripts -->
<script type="text/javascript">
	var scripts = ['assets/js/dataTables/jquery.dataTables.min.js', 'assets/js/dataTables/jquery.dataTables.bootstrap.min.js']; //[null, './assets/js/jquery-ui.custom.js', './assets/js/bootbox.js', null]
	$('.page-content-area').ace_ajax('loadScripts', scripts, function() {
	  //inline scripts related to this page
		initTable();
	});
</script>

<script type="text/javascript">
			var initTable = function(){
				var oTable1 = 
					$('#sample-table-2')
					//.wrap("<div class='dataTables_borderWrap' />")   //if you are applying horizontal scrolling (sScrollX)
					.dataTable( {
						bAutoWidth: false,
						"aoColumns": [
						  { "bSortable": false },
						  null, null,null, null, null,null,null,
						  { "bSortable": false }
						],
						"aaSorting": [],
				
				    } );
		
			}
			jQuery(function($) {
				
			
				$(document).on('click', 'th input:checkbox' , function(){	
					var that = this;
					$(this).closest('table').find('tr > td:first-child input:checkbox')
					.each(function(){
						this.checked = that.checked;
						$(this).closest('tr').toggleClass('selected');
					});
					
				});	
				
				$('[data-rel="tooltip"]').tooltip({placement: tooltip_placement});
				function tooltip_placement(context, source) {
					var $source = $(source);
					var $parent = $source.closest('table')
					var off1 = $parent.offset();
					var w1 = $parent.width();
			
					var off2 = $source.offset();
					//var w2 = $source.width();
			
					if( parseInt(off2.left) < parseInt(off1.left) + parseInt(w1 / 2) ) return 'right';
					return 'left';
				}
			
			})
</script>